{% set theme = site.theme or {} %}
:root {
  --bg: {{ theme.bg or '#0b0b0c' }};
  --text: {{ theme.text or '#e7e7ea' }};
  --muted: {{ theme.muted or '#a4a4ad' }};
  --accent: {{ theme.accent or '#7c5cff' }};
  --card: {{ theme.card or '#151518' }};
  --card-2: {{ theme.card_2 or '#1c1c21' }};
  --border: {{ theme.border or '#2a2a31' }};
  --font-family: {{ theme.font_family or "system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif" }};
  --font-size: {{ (theme.font_size or 16) }}px;
  --content-max: {{ (theme.content_max_width or 900) }}px;
  --nav-max: {{ (theme.nav_max_width or 1100) }}px;
  --radius: {{ (theme.border_radius or 12) }}px;
  --nav-bg: {{ theme.nav_background or 'rgba(11,11,12,0.7)' }};
}
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body { background: var(--bg); color: var(--text); font-size: var(--font-size); line-height: 1.6; font-family: var(--font-family); }
a { color: inherit; text-decoration: none; }
img { max-width: 100%; height: auto; display: block; }

/* Nav */
.nav { position: sticky; top: 0; z-index: 50; background: var(--nav-bg); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); }
.nav-inner { max-width: var(--nav-max); margin: 0 auto; padding: 0.75rem 1rem; display: flex; align-items: center; gap: 1rem; }
.brand { font-weight: 700; letter-spacing: 0.2px; color: var(--text); padding: 0.25rem 0.5rem; border-radius: 8px; }
.brand:hover { color: white; }
.menu { list-style: none; margin: 0; padding: 0; display: flex; gap: 1rem; }
.menu > li { position: relative; }
.menu > li > a { padding: 0.4rem 0.5rem; border-radius: var(--radius); color: var(--muted); display: inline-block; }
.menu > li > a:hover { color: white; background: var(--card); }
.has-children > a::after { content: "â–¾"; margin-left: 0.35rem; font-size: 0.8em; }
.submenu { display: none; position: absolute; left: 0; top: 100%; min-width: 220px; background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); padding: 0.5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.35); }
.submenu li { list-style: none; }
.submenu a { display: block; padding: 0.5rem 0.6rem; border-radius: 8px; color: var(--text); }
.submenu a:hover { background: var(--card-2); color: white; }
.menu > li:hover .submenu { display: block; }
.nav-right { margin-left: auto; display: flex; align-items: center; gap: 0.75rem; }
.chip { padding: 0.35rem 0.6rem; background: var(--card); border: 1px solid var(--border); border-radius: 100px; color: var(--muted); font-size: 0.9rem; }
.chip:hover { background: var(--card-2); color: white; }
/* Simple responsive nav */
@media (max-width: 640px) {
  .nav-inner { flex-wrap: wrap; gap: 0.5rem; }
  .brand { flex: 0 0 auto; min-width: 0; }
  .brand img { height: 24px; max-width: 100%; }
  .menu { flex: 1 1 100%; flex-wrap: wrap; gap: 0.5rem; min-width: 0; width: 100%; }
  .menu > li { flex: 0 1 auto; min-width: 0; }
  .menu > li > a { padding: 0.35rem 0.45rem; font-size: 0.85rem; }
  .nav-right { width: 100%; justify-content: flex-end; flex: 1 1 100%; }
}
@media (max-width: 480px) {
  .menu > li > a { font-size: 0.8rem; padding: 0.3rem 0.4rem; }
}

/* Hero - base styles, can be overridden in templates */
.hero { position: relative; min-height: 60vh; display: grid; place-items: center; background-size: cover; background-position: center; }
.hero-overlay {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(124,92,255,0.25), rgba(124,92,255,0) 60%),
    linear-gradient(to bottom, rgba(11,11,12,0.15) 0%, rgba(11,11,12,0.7) 55%, var(--bg) 100%);
}
.hero-content { position: relative; z-index: 1; text-align: center; padding: 3rem 1rem; max-width: 900px; }
.hero h1 { font-size: clamp(2rem, 5vw, 4rem); margin: 0 0 0.75rem; letter-spacing: -0.02em; }
.hero p { color: var(--muted); font-size: clamp(1rem, 2vw, 1.25rem); margin: 0 auto; max-width: 60ch; }

/* Main - base styles, can be overridden in templates */
main { max-width: var(--content-max); margin: 2rem auto; padding: 0 1rem 3rem; }
.page-hero { margin: 1rem 0 2rem; border-radius: var(--radius); overflow: hidden; border: 0; background: transparent; position: relative; }
.subnav { margin: 0 0 1rem; display: flex; flex-wrap: wrap; gap: 0.5rem; }
.intro { color: var(--muted); margin-bottom: 1rem; overflow-wrap: anywhere; }
.grid-2 { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 1rem; }
.gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 0.75rem; }
.gallery figure { margin: 0; border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; background: var(--card); }
.page-hero img, .gallery figure img { width: 100%; height: auto; object-fit: contain; }
.gallery figcaption { padding: 0.5rem 0.6rem; color: var(--muted); font-size: 0.9rem; }
/* Prose content image utilities */
.prose::after { content: ""; display: block; clear: both; }
.prose { overflow-wrap: anywhere; }
.prose img { max-width: 100%; height: auto; }
/* Height utilities */
.prose img.img-h-200 { width: 100%; height: 200px; object-fit: cover; object-position: center; }
.prose img.img-h-300 { width: 100%; height: 300px; object-fit: cover; object-position: center; }
.prose img.img-h-400 { width: 100%; height: 400px; object-fit: cover; object-position: center; }
.prose img.img-h-500 { width: 100%; height: 500px; object-fit: cover; object-position: center; }
.prose img.img-left { float: left; margin: 0 1rem 1rem 0; }
.prose img.img-right { float: right; margin: 0 0 1rem 1rem; }
.prose img.img-center { display: block; margin-left: auto; margin-right: auto; }
.prose img.img-small { width: 33%; }
.prose img.img-medium { width: 66%; }
.prose img.img-full { width: 100%; }
.prose img.img-rounded { border-radius: var(--radius); }
/* Gradient masks for images (works on page-hero and prose) */
.img-fade-top { -webkit-mask-image: linear-gradient(to bottom, transparent, black 10%); mask-image: linear-gradient(to bottom, transparent, black 10%); }
.img-fade-bottom { -webkit-mask-image: linear-gradient(to top, transparent, black 10%); mask-image: linear-gradient(to top, transparent, black 10%); }
.img-fade-both { -webkit-mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); }
.img-fade-left { -webkit-mask-image: linear-gradient(to right, transparent, black 10%); mask-image: linear-gradient(to right, transparent, black 10%); }
.img-fade-right { -webkit-mask-image: linear-gradient(to left, transparent, black 10%); mask-image: linear-gradient(to left, transparent, black 10%); }
.img-fade-sides { -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); }
.img-fade-all {
  -webkit-mask-image:
    linear-gradient(to right, transparent, black 10%, black 90%, transparent),
    linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
  -webkit-mask-composite: source-in;
  mask-image:
    linear-gradient(to right, transparent, black 10%, black 90%, transparent),
    linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
  mask-composite: intersect;
}
.img-fade-all-extreme {
  -webkit-mask-image:
    linear-gradient(to right, transparent, black 45%, black 55%, transparent),
    linear-gradient(to bottom, transparent, black 45%, black 55%, transparent);
  -webkit-mask-composite: source-in;
  mask-image:
    linear-gradient(to right, transparent, black 45%, black 55%, transparent),
    linear-gradient(to bottom, transparent, black 45%, black 55%, transparent);
  mask-composite: intersect;
}

